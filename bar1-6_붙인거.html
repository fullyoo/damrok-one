<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport"
        content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width" />

    <title>대한상선(주)_bar1-6_붙인거</title>
    <!-- <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" /> -->

    <link rel="stylesheet" href="./assets/css/slick.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@xpressengine/xeicon@2.3.3/xeicon.min.css">


    <link rel="stylesheet" type="text/css" href="./assets/css/reset.css" />
    <link rel="stylesheet" type="text/css" href="./assets/css/common.css" />
    <link rel="stylesheet" type="text/css" href="./assets/css/aos.css" />
    <link rel="stylesheet" href="./assets/css/main.css">

    <style>
        .mv-sec {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
        }

        .slide_wrap {
            width: 100%;
            height: 100%;
        }

        .slide_ctn {
            width: 100%;
            height: 100%;
        }

        .item {
            /* width: 100%;
            height: 100vh;
            position: relative; */
        }

        .bg {
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
        }

        .bg01 {
            background-color: #ff6b6b;
        }

        .bg02 {
            background-color: #4ecdc4;
        }

        .bg04 {
            background-color: #45b7d1;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .slide_ui {
            position: absolute;
            bottom: 50px;
            left: 50px;
            z-index: 10;
        }

        .slide_txt {
            margin-bottom: 30px;
        }

        .slide_txt h2 {
            color: white;
            font-size: 3rem;
            font-weight: bold;
            line-height: 1.2;
            margin-bottom: 20px;
        }

        .slide_txt p {
            color: white;
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .progress_ctn {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .bars_container {
            display: flex;
            gap: 2px;
        }

        /* 개선된 bar 컨테이너 - 클릭 영역 확장 */
        .mv-sec .slide_wrap .slide_ui .progress_ctn .bar {
            position: relative;
            width: 80px;
            height: 3px;
            background: none;
            cursor: pointer;
            /* 클릭 영역을 위아래로 확장 */
            padding: 15px 0px;
            padding: 0px 0px 30px;
            margin: -15px 0px;
        }

        /* 실제 진행바는 패딩 안쪽에 위치 */
        .mv-sec .slide_wrap .slide_ui .progress_ctn .bar::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 5px;
            right: 5px;
            height: 3px;
            background: #ffffff4f;
        }

        .mv-sec .slide_wrap .slide_ui .progress_ctn .bar span {
            position: absolute;
            top: 15px;
            left: 5px;
            width: 0;
            height: 3px;
            background: #fff;
            transition: opacity 0.5s ease;
            z-index: 1;
        }

        .mv-sec .slide_wrap .slide_ui .progress_ctn .bar.active span {
            background: #fff;
        }

        .mv-sec .slide_wrap .slide_ui .progress_ctn .bar.completed span {
            opacity: 0;
            width: 100% !important;
            background: #fff;
        }

        /* 호버 효과 추가 */
        .mv-sec .slide_wrap .slide_ui .progress_ctn .bar:hover::before {
            background: #ffffff80;
        }

        .play_btn {
            margin-left: 15px;
        }

        .mv-sec .slide_wrap .slide_ui .progress_ctn .play_btn .stop {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        .stop:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        .mv-sec .slide_wrap .slide_ui .progress_ctn .play_btn .stop.on {
            background: rgba(255, 255, 255, 0.5);
        }


        .stop.on:before {
            content: '';
            width: 0;
            height: 0;
            border-left: 8px solid white;
            border-top: 5px solid transparent;
            border-bottom: 5px solid transparent;
            margin-left: 2px;
            background: none;
            box-shadow: none;
        }

        .stop:before {
            content: '';
            width: 3px;
            height: 12px;
            background: white;
            border: none;
            box-shadow: 5px 0 0 white;
            margin-left: -3px;
        }

        /* 개선된 바 텍스트 스타일 - 클릭 가능, bar 위쪽에 위치 */
        .bar-text {
            position: absolute;
            top: -25px;
            left: 5px;
            color: white;
            font-size: 12px;
            font-weight: 500;
            opacity: 0.6;
            transition: all 0.3s ease;
            white-space: nowrap;
            cursor: pointer;
            z-index: 2;
            /* 클릭 영역 확장을 위한 패딩 */
            padding: 5px 0;
            margin: -5px 0;
        }

        /* 텍스트 호버 효과 */
        .bar-text:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .mv-sec .slide_wrap .slide_ui .progress_ctn .bar.active .bar-text {
            opacity: 1;
            color: #fff;
            font-weight: 700;
            transform: translateY(2px);
        }

        /* 활성 상태의 텍스트 호버 */
        .mv-sec .slide_wrap .slide_ui .progress_ctn .bar.active .bar-text:hover {
            transform: translateY(3px);
        }


        /* 모바일 반응형 */
        @media (max-width: 768px) {

            .mv-sec .slide_wrap .slide_ui .progress_ctn .bar {
                width: calc(33.333% - 3px);
                min-width: 50px;
                /* width: 70px; */
                padding: 12px 0px;
                margin: -12px 0px;
            }

            .mv-sec .slide_wrap .slide_ui .progress_ctn .bar.active {}

            .mv-sec .slide_wrap .slide_ui .progress_ctn .bar::before {
                top: 12px;
                left: 3px;
            }

            .mv-sec .slide_wrap .slide_ui .progress_ctn .bar span {
                top: 12px;
                left: 3px;
            }

            .mv-sec .slide_wrap .slide_ui .progress_ctn .bar.completed span {
                width: calc(100% - 6px) !important;
            }

            .mv-sec .slide_wrap .slide_ui .progress_ctn .play_btn .stop {
                width: 30px;
                height: 30px;
            }

            .stop:before {
                border-left-width: 6px;
                border-top-width: 4px;
                border-bottom-width: 4px;

            }

            .stop.on:before {}

            .bar-text {
                font-size: 11px;
                top: -22px;
                left: 3px;
                opacity: 0.6;
                padding: 4px 0;
                margin: -4px 0;
            }

            .mv-sec .slide_wrap .slide_ui .progress_ctn .bar.active .bar-text {
                opacity: 1;
                font-weight: 700;
            }

        }

        /* 작은 모바일 */
        @media (max-width: 480px) {
            .progress_ctn {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }

            .bars_container {
                /* width: 100%; */
                /* justify-content: space-between; */
                gap: 0;
            }

            .mv-sec .slide_wrap .slide_ui .progress_ctn .play_btn {
                margin-left: 0;
                display: flex;
                /* align-self: center; */
            }

            .mv-sec .slide_wrap .slide_ui .progress_ctn {
                display: flex;
                align-items: center;
                flex-direction: row;
            }
        }

        /* 2번째 */
        @import url('https://fonts.googleapis.com/css2?family=Anton&family=Instrument+Serif:ital@0;1&display=swap');

        :root {
            --mainsize: 1400px;
            --e-font: "Anton", sans-serif;
            --p-font: "Instrument Serif", serif
        }

        body,
        html {
            height: 100%;
            margin: 0;
            padding: 0
        }

        ul,
        li,
        dl,
        dt,
        dd,
        p,
        span,
        h3,
        h2 {
            margin: 0;
            padding: 0
        }

        a {
            text-decoration: none
        }

        ul,
        li {
            list-style: none
        }

        *,
        :after,
        :before {
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box
        }

        #vision1012 {
            overflow: hidden;
            text-align: center;
            background: #111
        }

        #vision1012 .full_img {
            position: relative;
            overflow: hidden;
            height: 100vh
        }

        #vision1012 .full_img .bg:after {
            position: absolute;
            content: '';
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0, 0, 0, .5)
        }

        #vision1012 .full_img .bg {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            background-image: url('https://bea1025.shiningcorp.com/sh_img/index/main_banner/main_img1.jpg');
            background-size: cover;
            background-position: center;
            clip-path: inset(30% 30% 30% 30%);
            z-index: 0;
            transition: all .3s;
            transform: translate(-50%, -50%)
        }

        #vision1012 .full_img p {
            font-size: 90px;
            line-height: 1;
            font-family: var(--e-font)
        }

        #vision1012 .full_img p span {
            font-size: 100px;
            font-family: var(--p-font)
        }

        #vision1012 .b_txt {
            position: absolute;
            z-index: 10;
            top: 50%;
            left: 50%;
            color: #fff;
            transform: translate(-50%, -50%)
        }

        #vision1012 .b_txt .top_txt {
            transform: translateX(-300px)
        }

        #vision1012 .b_txt .btm_txt {
            transform: translateX(300px)
        }

        #vision1012 .full_img .bg-video {}

        #vision1012 .full_img .bg-video video {
            width: 100%;
            height: 100vh;
            object-fit: cover;
            /*background-size: cover 와 비슷함. */
        }



        /* 반응형 [s] */
        @media (max-width:1024px) {
            #vision1012 .b_txt {
                width: 100%
            }

            #vision1012 .b_txt .top_txt {
                transform: translateX(-200px)
            }

            #vision1012 .b_txt .btm_txt {
                transform: translateX(200px)
            }

            #vision1012 .full_img p {
                font-size: 50px
            }

            #vision1012 .full_img p span {
                font-size: 65px
            }
        }

        @media (max-width:768px) {
            #vision1012 .full_img p {
                font-size: 40px
            }

            #vision1012 .full_img p span {
                font-size: 50px
            }

            #vision1012 .b_txt .top_txt {
                transform: translateX(-100px)
            }

            #vision1012 .b_txt .btm_txt {
                transform: translateX(100px)
            }
        }

        @media (max-width:480px) {
            #vision1012 {
                font-size: 14px
            }

            #vision1012 .full_img p {
                font-size: 30px
            }

            #vision1012 .full_img p span {
                font-size: 40px
            }

            #vision1012 .b_txt .top_txt {
                transform: translateX(-50px)
            }

            #vision1012 .b_txt .btm_txt {
                transform: translateX(50px)
            }
        }

        /* 반응형 [e] */
    </style>

</head>

<body>
    <!-- <div class="intro">
        <div class="first">
            <img src="./assets/images/main/about04.png" alt="">
        </div>
    </div> -->

    <main class="main wrap">
        <section class="mv-sec">
            <div class="slide_wrap">
                <div class="slide_ctn">
                    <div class="item">
                        <div class="bg bg01">
                            <video loop playsinline muted data-keepplaying autoplay>
                                <source
                                    src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"
                                    type="video/mp4">
                            </video>
                        </div>
                    </div>
                    <div class="item">
                        <div class="bg bg02">
                        </div>
                    </div>
                    <div class="item">
                        <div class="bg bg04">
                        </div>
                    </div>
                </div>
                <div class="slide_ui">
                    <div class="slide_txt">
                        <div class="item">
                            <h2>Global <br>Total Logistics <br>Company</h2>
                            <p>벌크선 중심의 해상운송, 무역서비스를 제공하는 글로벌 종합물류 기업입니다.</p>
                        </div>
                    </div>
                    <div class="progress_ctn">
                        <div class="bars_container">
                            <!-- 진행바들이 동적으로 생성됩니다 -->
                        </div>
                        <div class="play_btn">
                            <div class="stop"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div id="vision1012">
            <div class="full_img">
                <div class="bg">
                    <div class="bg-video">
                        <video loop playsinline muted data-keepplaying autoplay>
                            <source
                                src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"
                                type="video/mp4">
                        </video>
                    </div>
                </div>
                <div class="b_txt">
                    <p class="top_txt">Customer <span>First</span></p>
                    <p class="btm_txt"><span>Sustainable</span> Growth</p>
                </div>
            </div>
        </div>


    </main>



    <!-- 스크립트 영역 -->
    <script src="./assets/js/jquery-latest.js"></script>
    <script src="./assets/js/slick.min.js"></script>
    <!-- <script src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script> -->
    <script src="./assets/js/common.js"></script>
    <script src="./assets/js/aos.js"></script>

    <!-- <script src="./assets/js/main_bar.js"></script> -->


    <script src="./assets/js/gsap.min.js"></script>
    <script src="./assets/js/ScrollTrigger.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script> -->

    <script>
        function initSlider() {
            let autoplaySpeed = 3000;
            let totalSlides = 0;
            let currentSlide = 0;

            const slideTexts = [
                "Global",
                "Service",
                "Solution"
            ];

            function createProgressBars() {
                totalSlides = $(".mv-sec .slide_wrap .slide_ctn .item").length;
                const barsContainer = $(".bars_container");
                barsContainer.empty();

                for (let i = 0; i < totalSlides; i++) {
                    const text = slideTexts[i] || `Slide ${i + 1}`;
                    barsContainer.append(`<div class="bar" data-slide="${i}"><span></span><div class="bar-text" data-slide="${i}">${text}</div></div>`);
                }
            }

            function updateProgressBars(current) {
                $(".progress_ctn .bar").each(function (index) {
                    if (index === current) {
                        $(this).addClass("active").removeClass("completed");
                        $(this).find("span").css("width", "0%").css("opacity", "1");
                    } else {
                        $(this).removeClass("active completed");
                        $(this).find("span").css("width", "0%").css("opacity", "1");
                    }
                });
            }

            function startCurrentProgress(duration) {
                const activeBar = $(".progress_ctn .bar.active");
                const barWidth = activeBar.width() - 10;

                activeBar.find("span").stop().animate({
                    width: barWidth + "px"
                }, duration, function () {
                    $(this).animate({ opacity: 0 }, 500);
                });
            }

            function goToSlide(slideIndex) {
                $(".progress_ctn .bar span").stop(true, false);
                currentSlide = slideIndex;
                updateProgressBars(currentSlide);
                $(".mv-sec .slide_wrap .slide_ctn").slick('slickGoTo', slideIndex);

                setTimeout(function () {
                    startCurrentProgress(autoplaySpeed);
                }, 300);
            }

            createProgressBars();

            $(".mv-sec .slide_wrap .slide_ctn").on("init", function (e, slick) {
                currentSlide = 0;
                updateProgressBars(currentSlide);
                setTimeout(function () {
                    startCurrentProgress(autoplaySpeed);
                }, 50);
            }).slick({
                arrows: false,
                fade: true,
                pauseOnHover: false,
                pauseOnFocus: false,
                autoplay: true,
                autoplaySpeed: autoplaySpeed,
                infinite: true,
                speed: 0,
                cssEase: 'ease-in-out'
            }).on("beforeChange", function (e, slick, current, next) {
                var currentBgEle = $(this).find(".item").not(".slick-cloned").eq(current).find(".bg");
                var nextBgEle = $(this).find(".item").not(".slick-cloned").eq(next).find(".bg");

                if (currentBgEle.find("video").length) {
                    currentBgEle.find("video")[0].pause();
                }

                if (nextBgEle.find("video").length) {
                    nextBgEle.find("video")[0].currentTime = 0;
                    nextBgEle.find("video")[0].pause();
                }

                currentSlide = next;
                updateProgressBars(currentSlide);
            }).on("afterChange", function (e, slick, current) {
                var bgEle = $(this).find(".item").not(".slick-cloned").eq(current).find(".bg");

                if (bgEle.find("video").length) {
                    setTimeout(function () {
                        bgEle.find("video")[0].play();
                    }, 0);
                }

                autoplaySpeed = 3000;
                $(".mv-sec .slide_wrap .slide_ctn").slick('slickSetOption', 'autoplaySpeed', autoplaySpeed, false);

                setTimeout(function () {
                    startCurrentProgress(autoplaySpeed);
                }, 300);
            });

            $(".mv-sec .progress_ctn .play_btn .stop").on("click", function () {
                if (!$(this).hasClass("on")) {
                    $(this).addClass("on");
                    $(".mv-sec .slide_wrap .slide_ctn").slick("slickPause");
                    $(".progress_ctn .bar.active span").clearQueue().stop();
                } else {
                    $(this).removeClass("on");
                    $(".mv-sec .slide_wrap .slide_ctn").slick("slickPlay");

                    var currentProgress = parseInt($(".progress_ctn .bar.active span").css("width"));
                    var totalWidth = $(".progress_ctn .bar.active").width() - 10;
                    var remainingPercent = 1 - (currentProgress / totalWidth);
                    var remainingTime = autoplaySpeed * remainingPercent;

                    $(".progress_ctn .bar.active span").stop().animate({
                        width: totalWidth + "px"
                    }, remainingTime, function () {
                        $(this).animate({ opacity: 0 }, 500);
                    });
                }
            });

            $(document).on("click", ".progress_ctn .bar, .bar-text", function (e) {
                e.preventDefault();
                e.stopPropagation();
                var index = $(this).data('slide');
                goToSlide(index);
            });
        }

        // .intro 종료 후 자연스럽게 슬라이더 등장
        $(document).ready(function () {
            const intro = document.querySelector('.intro');
            const mvSec = document.querySelector('.mv-sec');

            if (intro) {
                intro.addEventListener('animationend', function () {
                    // intro fade out
                    $(intro).fadeOut(0, function () {
                        // 슬라이더 표시
                        $(mvSec).fadeIn(0, function () {
                            initSlider();
                        });
                    });
                });
            } else {
                $(mvSec).show();
                initSlider();
            }
        });


        // 2번째 시작
        gsap.to("#vision1012 .full_img", {
            scrollTrigger: {
                trigger: "#vision1012",
                pin: true,
                scrub: 0,
                start: "top top",
                end: "+=1000"
            }
        });

        gsap.to("#vision1012 .bg", {
            clipPath: "inset(0% 0% 0% 0%)",
            scrollTrigger: {
                trigger: "#vision1012 .full_img",
                start: "top top",
                end: "+=1000",
                scrub: 0
            }
        });

        gsap.to("#vision1012 .top_txt", {
            x: 0,
            scrollTrigger: {
                trigger: "#vision1012 .full_img",
                start: "top top",
                end: "+=1000",
                scrub: 1
            }
        });

        gsap.to("#vision1012 .btm_txt", {
            x: 0,
            scrollTrigger: {
                trigger: "#vision1012 .full_img",
                start: "top top",
                end: "+=1000",
                scrub: 1
            }
        });
    </script>



</body>

</html>